### Операции внутри базы данных

К ним относятся методы и выражения, которые Django преобразует в SQL:

- `annotate()`
- `aggregate()`
- `update()` с `F()` выражениями
- `Case`, `When`
- агрегатные функции (`Sum`, `Count`, `Avg`)
- `filter()` / `exclude()` (частично — если условия транслируются в SQL)
- `order_by()`


✅ **Особенности:**

- выполняются одним SQL-запросом;
- не грузят все данные в память;
- более быстрые и масштабируемые.


---

### Операции вне базы данных

Это то, что обрабатывается на уровне Python:

- циклы `for` по QuerySet’у;

- работа с уже полученными объектами (`for obj in qs`);

- `values_list()` после извлечения данных;

- фильтрация, сортировка, подсчёты в коде Python.


⚠️ **Минус:** нагрузка переносится с базы на сервер приложения, операции медленнее на больших объёмах.