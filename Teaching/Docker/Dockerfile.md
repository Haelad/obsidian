В файлах Dockerfile содержатся инструкции по созданию образа

```Docker
FROM ubuntu:18.04
COPY . /app
```
> Слои в итоговом образе создают только инструкции `FROM`, `RUN`, `COPY`, и `ADD`.
> Другие же инструкции что-то настраивают, описывают и т.д. 


# Инструкции 

1.   `FROM` — задаёт базовый (родительский) образ.
2.   `LABEL` — описывает метаданные. Например — сведения о том, кто создал и поддерживает образ. Объявление меток не замедляет процесс сборки образа и не увеличивает его размер.
3.   `ENV` — устанавливает постоянные переменные среды.
4.   `RUN` — выполняет команду и создаёт слой образа. Используется для установки в контейнер пакетов.
5.   `COPY` — копирует в контейнер файлы и папки.
6.   `ADD` — копирует файлы и папки в контейнер, может распаковывать      локальные .tar-файлы.
7.   `CMD` — описывает команду с аргументами, которую нужно выполнить когда контейнер будет запущен. Аргументы могут быть переопределены при запуске контейнера. В файле может присутствовать лишь одна инструкция `CMD`.
8.    `WORKDIR` — задаёт рабочую директорию для следующей инструкции.
9.    `ARG` — задаёт переменные для передачи Docker во время сборки образа.
10. `ENTRYPOINT` — предоставляет команду с аргументами для вызова во время выполнения контейнера. Аргументы не переопределяются.
	- Если при каждом запуске контейнера нужно выполнять одну и ту же команду — используйте `ENTRYPOINT`.
	- Если контейнер будет использоваться в роли приложения — используйте `ENTRYPOINT`.
	- Если вы знаете, что при запуске контейнера вам понадобится передавать ему аргументы, которые могут перезаписывать аргументы, указанные в Dockerfile, используйте `CMD`.
11. `EXPOSE` — указывает на необходимость открыть порт.
12. `VOLUME` — создаёт точку монтирования для работы с постоянным хранилищем.

# Пример dockerfile-а
```Docker
FROM python:3.7.2-alpine3.8
LABEL maintainer="jeffmshale@gmail.com"
ENV ADMIN="jeff"
RUN apk update && apk upgrade && apk add bash
COPY . ./app
ADD https://raw.githubusercontent.com/discdiver/pachy-vid/master/sample_vids/vid1.mp4 \
/my_app_directory
RUN ["mkdir", "/a_directory"]
CMD ["python", "./my_script.py"]
```


### Инструкция FROM 




### Инструкция ENV
Инструкция [ENV](https://docs.docker.com/engine/reference/builder/#env) позволяет задавать постоянные переменные среды, которые будут доступны в контейнере во время его выполнения. В предыдущем примере после создания контейнера можно пользоваться переменной `ADMIN`.  
  
Инструкция `ENV` хорошо подходит для задания констант. Если вы используете некое значение в Dockerfile несколько раз, скажем, при описании команд, выполняющихся в контейнере, и подозреваете, что, возможно, вам когда-нибудь придётся сменить его на другое, его имеет смысл записать в подобную константу.

### Инструкция RUN
Инструкция [RUN](https://docs.docker.com/engine/reference/builder/#run) позволяет создать слой во время сборки образа. 
После её выполнения в образ добавляется новый слой, его состояние фиксируется.

Инструкция `RUN` часто используется для установки в образы дополнительных пакетов. В предыдущем примере инструкция `RUN apk update && apk upgrade` сообщает Docker о том, что системе нужно обновить пакеты из базового образа. Вслед за этими двумя командами идёт команда `&& apk add bash`, указывающая на то, что в образ нужно установить bash.

То, что в командах выглядит как `apk` — это сокращение от [Alpine Linux package manager](https://www.cyberciti.biz/faq/10-alpine-linux-apk-command-examples/) (менеджер пакетов Alpine Linux).
при использовании Ubuntu, для установки пакетов может понадобиться команда вида `RUN apt-get`.

Инструкция `RUN` и схожие с ней инструкции — такие, как `CMD` и `ENTRYPOINT`, могут быть использованы либо в exec-форме, либо в shell-форме. Exec-форма использует синтаксис, напоминающий описание JSON-массива. Например, это может выглядеть так: `RUN ["my_executable", "my_first_param1", "my_second_param2"]`.